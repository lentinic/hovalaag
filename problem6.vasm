l0:
  A=IN1,B=-1
l1:
  B=A+B
  C=0,D=A
COUNT:
  A=A&B,B=-1,F=ZERO(A&B)
  DEC,JMPT OUT
  JMP COUNT,B=A+B
OUT:
  A=C,B=1
  F=NEG(A>>1),A=D
  JMPT ODD,W=A
  OUT2=W,JMP l0
ODD:
  OUT1=W,A=IN1,B=-1,JMP l1